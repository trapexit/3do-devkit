<Title>svfilter.dsp</Title>
<A NAME="XREF21744"><H1>svfilter.dsp </A></H1>
<A NAME="XREF38261"></A> State-variable filter.<P>
<H3>Function</H3>
This instrument is a state-variable filter. <P>
To convert a frequency in Hz to the value needed to set the filter, the following formula, from Hal Chamberlain's "Musical Applications of MicroProcessors," is used:<P>
<DL>
<DD><CODE>F1 = 2sin(PI*Frequency/SampleRate)</CODE><BR>
</DL>
where<P>
<UL>
<LI>F1 is the frequency control parameter for the filter.
<LI>Frequency is Frequency in Hertz
<LI>SampleRate is 44100.0
</UL>
If Frequency/SampleRate is small, for example less than 1/5, you can use an approximation, as follows:<P>
<DL>
<DD><CODE>F1 = 2*PI*Frequency/SampleRate</CODE><BR>
</DL>
To calculate a fixed point value suitable for <CODE>TweakRawKnob( ItemNumber, FKnob)</CODE>, if F1 is expressed as a 16.16 fixed point value (frac16), then:<P>
<DL>
<DD><CODE>    FKnob = F1&gt;&gt;1;</CODE><BR>
</DL>
because FKnob is a 1.15 fixed point value.<P>
<H3>Knobs</H3>
Frequency- currently nonlinear <P>
Resonance - 1 / Q,  0 =&gt; $7FFF <P>
Amplitude- 0  =&gt;  $7FFF <P>
<H3>Inputs</H3>
Input - signal <P>
<H3>Outputs</H3>
Output<P>
<H3>Input FIFOs</H3>
None <P>
<H3>Output FIFOs</H3>
None <P>
<H3>Resources</H3>
Ticks = 19 <P>
N memory = 19 words <P>
