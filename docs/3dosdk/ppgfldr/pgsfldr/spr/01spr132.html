<TITLE>WaitPort</TITLE>
<A NAME="XREF19568"><H1>WaitPort </A></H1>
<A NAME="XREF10250"></A>Waits for a message to arrive.<P>
<H3>Synopsis</H3>
<CODE>Item WaitPort( Item mp, Item msg )</CODE><P>
<H3>Description</H3>
The procedure puts the calling task into wait state until a message is received at the specified message port. When a task is in wait state, it uses no CPU time. <P>
The task can wait for a specific message by providing the item number of the message in the message argument. To wait for any incoming message, the task uses 0 as the value of the message argument. <P>
<B>Note: </B> If the desired message is already in the message queue for the specified message port, the procedure returns immediately. If the message never arrives, the procedure may never return. <P>
When the message arrives, the task is moved from the wait queue to the ready queue, the item number of the message is returned as the result, and the message is removed from the message port. <P>
<H3>Arguments</H3>
<DL>
<DT>mp
<DD>The item number of the message port to check for incoming messages. 
</DL>
<DL>
<DT>msg
<DD>The item number of the message to wait for. If this argument is 0, control is returned to the task when any message arrives at the specified message port. 
</DL>
<H3>Return Value</H3>
The procedure returns the item number of the incoming message or an error code if an error occurs. <P>
<H3>Implementation</H3>
Folio call implemented in kernel folio V20. Became an SWI in kernel folio V24.<P>
<H3>Associated Files</H3>
<DL>
<DT>msgport.h
<DD>ANSI C Prototype 
</DL>
<DL>
<DT>clib.lib
<DD>ARM Link Library 
</DL>
<H3>See Also</H3>
<CODE><A HREF="./01spr075.html#XREF37256"><CODE>GetMsg</A>(), <A HREF="./01spr113.html#XREF31623">ReplyMsg</A>(), <A HREF="./01spr122.html#XREF17036">SendMsg</A>() </CODE><P>
</CODE>
<H1><LINK NAME="XREF19568"></LINK></H1><HR>
