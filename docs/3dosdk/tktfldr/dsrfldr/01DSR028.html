<Title>DSSetClock</Title>
<A NAME="XREF23945"><H1>DSSetClock</A></H1>
<A NAME="XREF20336"></A>Sets the DataStreamer clock.<P>
<H3>Synopsis</H3>
<CODE>int32 DSSetClock (DSStreamCBPtr streamCBPtr, uint32 
newStreamClock)</CODE><P>
<H3>Description</H3>
Sets the DataStreamer clock to the specified time. Clock time is measured 
relative to the start of a stream. <CODE>DSSetClock()</CODE> sets the 
clock by resetting the DataStreamer clock offset to the specified value.<P>
<CODE>DSSetClock()</CODE> also sets to <CODE>TRUE</CODE> the 
<CODE>STRM_CLOCK_VALID</CODE> and <CODE>STRM_CLOCK_WAS_VALID</CODE> flags 
of the <CODE>streamFlags</CODE> field in the stream context block of the 
specified stream. These flags indicate, respectively, that the current 
clock time is correct and that the clock has been set at least once since 
the stream was opened or since the last time it was stopped.<P>
Clock time in the DataStreamer is measured in standard Portfolio audio 
clock ticks (the DataStreamer does not change the rate of the audio clock 
or the duration of audio ticks). Since the DataStreamer does not own the 
audio clock, however, external tasks can affect the DataStreamer clock by 
altering the state of the audio clock. (By default, the audio clock is set 
to 240 ticks per second.)<P>
Since the DataStreamer and acquisition threads determine stream 
positioning and data flushing by the DataStreamer clock, resetting the 
clock can affect the loading of streamed data chunks adversely. The 
DataStreamer clock is normally reset only when a new stream is opened. 
Streams can be started and stopped without requiring the DataStreamer 
clock to be reset (see <CODE>DSStartStream()</CODE> and 
<CODE>DSStopStream()</CODE>).<P>
<H3>Arguments</H3>
<DL>
<DT><CODE>streamCBPtr</CODE>
<DD>Pointer to the stream context block.
</DL>
<DL>
<DT><CODE>newStreamClock</CODE>
<DD>New clock time, measured relative to the start of the stream specified 
by <CODE>streamCBPtr.
</DL>
<H3>Return Value</H3>
<DL>
<DT>Value
<DD>Error Condition
<DD>
</DL>
<DL>
<DT></CODE><CODE>kDSNoErr</CODE>
<DD>None
<DD>
</DL>
<DL>
<DT><CODE>kDSNotRunning</CODE>
<DD>Stream not running
<DD>
</DL>
<H3>Associated Files</H3>
DataStreamLib.h<P>
<H3>See Also</H3>
<A HREF="#XREF18499"><CODE>DSGetClock</A>, <A 
HREF="#XREF38421">DSStartStream</A>, <A 
HREF="#XREF41812">DSStopStream</A>, 
<A HREF="../../ppgfldr/mgsfldr/mprfldr/001mpr058.html#XREF22869">OwnAudioClock</A>
</CODE><P>
